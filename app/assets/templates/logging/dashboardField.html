<div class="row">
    <div class="col-xs-4">
    </div>
    <div class="col-xs-4">
        <div style="text-align: center">
        <form class="form-search">
                <div class="input-group">
                      <span class="input-group-addon">
                        <i class="fa fa-calendar"></i>
                      </span>

                    <input date-range-picker style="margin-left: 0px" type="text" class="form-control" options="date_picker_opts"/>

                </div>
        </form>

        </div>
    </div>
</div>

<div class="col-xs-12">&nbsp;</div>

<div class="row">
  <div class="col-xs-4">
  </div>
  <div class="col-xs-4">
    <div style="text-align: center">
      <select ng-model="metric_to_show" ng-options="value for value in metric_list"></select>
    </div>
  </div>
</div>

<div class="widget-box widget-color-blue ui-sortable-handle" ng-show="metric_to_show=='Login Metrics'">
    <div class="widget-header">
        <h5 class="widget-title bigger lighter">
            <i class="ace-icon fa fa-table"></i>
            Login Metrics
        </h5>
    </div>
    <div class="widget-body">
        <div class="widget-main no-padding">
            <table class="table table-striped table-bordered table-hover">
                <thead class="thin-border-bottom">
                <tr>
                    <th style="width:27%">Date</th>
                    <th style="width:10%">UI Count</th>
                    <th style="width:10%">API Count</th>
                </tr>
                </thead>
                <tbody ng-hide="fetching">

                <tr ng-repeat="(date,counts) in results.logins">
                    <td>
                        {{date | date: 'mediumDate'}}
                    </td>
                    <td>
                        {{counts[0]}}
                    </td>
                    <td>
                        {{counts[1]}}
                    </td>
                </tr>

                </tbody>

                <tbody ng-show="fetching">
                <tr>
                    <td colspan="2" class="center">
                        <i class="fa fa-spinner fa-spin bigger-300 blue"></i>
                    </td>
                </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>
<div class="widget-box widget-color-blue ui-sortable-handle" ng-show="metric_to_show=='Indicators Created'">
    <div class="widget-header">
        <h5 class="widget-title bigger lighter">
            <i class="ace-icon fa fa-table"></i>
            Indicators Created
        </h5>
    </div>
    <div class="widget-body">
        <div class="widget-main no-padding">
            <table class="table table-striped table-bordered table-hover">
                <thead class="thin-border-bottom">
                <tr>
                    <th style="width:27%">Date</th>
                    <th style="width:10%">PE</th>
                    <th style="width:10%">NPE</th>
                    <th style="width:10%">Via Upload</th>
                    <th style="width:10%">Via UI</th>
                </tr>
                </thead>
                <tbody ng-hide="fetching">

                <tr ng-repeat="(date,counts) in results.indicatorsCreated">
                    <td>
                        {{date | date: 'mediumDate'}}
                    </td>
                    <td>
                        {{counts[0]}}
                    </td>
                    <td>
                        {{counts[1]}}
                    </td>
                    <td>
                        {{counts[2]}}
                    </td>
                    <td>
                        {{counts[3]}}
                    </td>
                </tr>

                </tbody>

                <tbody ng-show="fetching">
                <tr>
                    <td colspan="2" class="center">
                        <i class="fa fa-spinner fa-spin bigger-300 blue"></i>
                    </td>
                </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>
<div class="widget-box widget-color-blue ui-sortable-handle" ng-show="metric_to_show=='Manual Uploads'">
    <div class="widget-header">
        <h5 class="widget-title bigger lighter">
            <i class="ace-icon fa fa-table"></i>
            Manual Uploads
        </h5>
    </div>
    <div class="widget-body">
        <div class="widget-main no-padding">
            <table class="table table-striped table-bordered table-hover">
                <thead class="thin-border-bottom">
                <tr>
                    <th style="width:27%">Date</th>
                    <th style="width:10%">UI Count</th>
                </tr>
                </thead>
                <tbody ng-hide="fetching">

                <tr ng-repeat="(date,count) in results.manualUploads">
                    <td>
                        {{date | date: 'mediumDate'}}
                    </td>
                    <td>
                        {{count}}
                    </td>
                </tr>

                </tbody>

                <tbody ng-show="fetching">
                <tr>
                    <td colspan="2" class="center">
                        <i class="fa fa-spinner fa-spin bigger-300 blue"></i>
                    </td>
                </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>
<div class="widget-box widget-color-blue ui-sortable-handle" ng-show="metric_to_show=='Packages Created'">
    <div class="widget-header">
        <h5 class="widget-title bigger lighter">
            <i class="ace-icon fa fa-table"></i>
            Packages Created
        </h5>
    </div>
    <div class="widget-body">
        <div class="widget-main no-padding">
            <table class="table table-striped table-bordered table-hover">
                <thead class="thin-border-bottom">
                <tr>
                    <th style="width:27%">Date</th>
                    <th style="width:10%">PE</th>
                    <th style="width:10%">NPE</th>
                    <th style="width:10%">Via Upload</th>
                    <th style="width:10%">Via UI</th>
                </tr>
                </thead>
                <tbody ng-hide="fetching">

                <tr ng-repeat="(date,counts) in results.packagesCreated">
                    <td>
                        {{date | date: 'mediumDate'}}
                    </td>
                    <td>
                        {{counts[0]}}
                    </td>
                    <td>
                        {{counts[1]}}
                    </td>
                    <td>
                        {{counts[2]}}
                    </td>
                    <td>
                        {{counts[3]}}
                    </td>
                </tr>

                </tbody>

                <tbody ng-show="fetching">
                <tr>
                    <td colspan="2" class="center">
                        <i class="fa fa-spinner fa-spin bigger-300 blue"></i>
                    </td>
                </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>
<div class="widget-box widget-color-blue ui-sortable-handle" ng-show="metric_to_show=='Search Metrics'">
    <div class="widget-header">
        <h5 class="widget-title bigger lighter">
            <i class="ace-icon fa fa-table"></i>
            Search Metrics
        </h5>
    </div>
    <div class="widget-body">
        <div class="widget-main no-padding">
            <table class="table table-striped table-bordered table-hover">
                <thead class="thin-border-bottom">
                <tr>
                    <th style="width:27%">Date</th>
                    <th style="width:10%">Count</th>
                </tr>
                </thead>
                <tbody ng-hide="fetching">

                <tr ng-repeat="(date,count) in results.searchLogs">
                    <td>
                        {{date | date: 'mediumDate'}}
                    </td>
                    <td>
                        {{count}}
                    </td>
                </tr>

                </tbody>

                <tbody ng-show="fetching">
                <tr>
                    <td colspan="2" class="center">
                        <i class="fa fa-spinner fa-spin bigger-300 blue"></i>
                    </td>
                </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>
<div class="widget-box widget-color-blue ui-sortable-handle" ng-show="metric_to_show=='API Calls'">
    <div class="widget-header">
        <h5 class="widget-title bigger lighter">
            <i class="ace-icon fa fa-table"></i>
            API Calls By Machine User
        </h5>
    </div>
    <div class="widget-body">
        <div class="widget-main no-padding">
            <table class="table table-striped table-bordered table-hover">
                <thead class="thin-border-bottom">
                  <tr>
                    <th style="text-align: center" ng-show="headers.length==1">{{headers[0]}}</th>
                    <th style="width:27%" ng-repeat="value in headers" ng-show="headers.length>1">{{value}}</th>
                  </tr>
                </thead>
                <tbody ng-show="!fetching && api_calls.length">

                  <tr ng-repeat="values in api_calls">
                    <td>
                      {{values[0] | date: 'mediumDate'}}
                    </td>
                    <td ng-repeat="value in values.slice(1) track by $index">
                      {{value}}
                    </td>
                  </tr>

                </tbody>

                <tbody ng-show="fetching">
                  <tr>
                    <td colspan="2" class="center">
                        <i class="fa fa-spinner fa-spin bigger-300 blue"></i>
                    </td>
                  </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>
